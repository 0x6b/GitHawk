{"data":{"repository":{"__typename":"Repository","name":"fastlane","hasIssuesEnabled":true,"viewerCanAdminister":false,"mentionableUsers":{"__typename":"UserConnection","nodes":[{"__typename":"User","avatarUrl":"https://avatars3.githubusercontent.com/u/258?v=4","login":"kommen"},{"__typename":"User","avatarUrl":"https://avatars3.githubusercontent.com/u/474?v=4","login":"cbowns"},{"__typename":"User","avatarUrl":"https://avatars2.githubusercontent.com/u/1060?v=4","login":"andrew"},{"__typename":"User","avatarUrl":"https://avatars0.githubusercontent.com/u/1614?v=4","login":"brad"},{"__typename":"User","avatarUrl":"https://avatars3.githubusercontent.com/u/2154?v=4","login":"bfolkens"},{"__typename":"User","avatarUrl":"https://avatars1.githubusercontent.com/u/2436?v=4","login":"DraXus"},{"__typename":"User","avatarUrl":"https://avatars2.githubusercontent.com/u/2567?v=4","login":"tmm1"},{"__typename":"User","avatarUrl":"https://avatars2.githubusercontent.com/u/3312?v=4","login":"snatchev"},{"__typename":"User","avatarUrl":"https://avatars1.githubusercontent.com/u/3500?v=4","login":"hotchpotch"},{"__typename":"User","avatarUrl":"https://avatars2.githubusercontent.com/u/5903?v=4","login":"benhanzl"},{"__typename":"User","avatarUrl":"https://avatars0.githubusercontent.com/u/7315?v=4","login":"corymsmith"},{"__typename":"User","avatarUrl":"https://avatars1.githubusercontent.com/u/8459?v=4","login":"cpunion"},{"__typename":"User","avatarUrl":"https://avatars2.githubusercontent.com/u/13192?v=4","login":"reidab"},{"__typename":"User","avatarUrl":"https://avatars0.githubusercontent.com/u/13697?v=4","login":"tcurdt"},{"__typename":"User","avatarUrl":"https://avatars0.githubusercontent.com/u/13887?v=4","login":"jonklo"},{"__typename":"User","avatarUrl":"https://avatars2.githubusercontent.com/u/14098?v=4","login":"svanzoest"},{"__typename":"User","avatarUrl":"https://avatars0.githubusercontent.com/u/14120?v=4","login":"carlosefonseca"},{"__typename":"User","avatarUrl":"https://avatars0.githubusercontent.com/u/15749?v=4","login":"danramteke"},{"__typename":"User","avatarUrl":"https://avatars3.githubusercontent.com/u/15887?v=4","login":"dataich"},{"__typename":"User","avatarUrl":"https://avatars2.githubusercontent.com/u/17814?v=4","login":"icyleaf"}]},"defaultBranchRef":{"__typename":"Ref","name":"master"},"issueOrPullRequest":{"__typename":"Issue","timeline":{"__typename":"IssueTimelineConnection","pageInfo":{"__typename":"PageInfo","hasPreviousPage":false,"startCursor":"MQ=="},"nodes":[{"__typename":"IssueComment","viewerCanDelete":false,"viewerCanUpdate":false,"author":{"__typename":"User","login":"ohayon","avatarUrl":"https://avatars3.githubusercontent.com/u/2587018?v=4"},"editor":null,"lastEditedAt":null,"body":"Hey @Wojcik, apologies for the issue youre having. This is pretty interesting. \r\n\r\nMy first thought is: is there any chance that when you are running fastlane you are unsetting or overwriting your AWS credential environment variables? You could check this out by just adding a `puts `env`` in your Fastfile. üêô ","createdAt":"2017-12-05T19:34:15Z","viewerDidAuthor":false,"viewerCanReact":true,"reactionGroups":[{"__typename":"ReactionGroup","viewerHasReacted":false,"users":{"__typename":"ReactingUserConnection","nodes":[],"totalCount":0},"content":"THUMBS_UP"},{"__typename":"ReactionGroup","viewerHasReacted":false,"users":{"__typename":"ReactingUserConnection","nodes":[],"totalCount":0},"content":"THUMBS_DOWN"},{"__typename":"ReactionGroup","viewerHasReacted":false,"users":{"__typename":"ReactingUserConnection","nodes":[],"totalCount":0},"content":"LAUGH"},{"__typename":"ReactionGroup","viewerHasReacted":false,"users":{"__typename":"ReactingUserConnection","nodes":[],"totalCount":0},"content":"HOORAY"},{"__typename":"ReactionGroup","viewerHasReacted":false,"users":{"__typename":"ReactingUserConnection","nodes":[],"totalCount":0},"content":"CONFUSED"},{"__typename":"ReactionGroup","viewerHasReacted":false,"users":{"__typename":"ReactingUserConnection","nodes":[],"totalCount":0},"content":"HEART"}],"id":"MDEyOklzc3VlQ29tbWVudDM0OTQxNTc4NA=="},{"__typename":"IssueComment","viewerCanDelete":false,"viewerCanUpdate":false,"author":{"__typename":"User","login":"Wojcik","avatarUrl":"https://avatars0.githubusercontent.com/u/2987936?v=4"},"editor":{"__typename":"User","login":"Wojcik"},"lastEditedAt":"2017-12-06T09:31:59Z","body":"I beleive that it's not connected to credentials because I'm getting objects from amazon buket and can access bucket properties etc. But as soon as I try to enumerate Aws::S3::ObjectSummary::Collection entity fastlane crashes here\r\n/Users/Ap/.rvm/gems/ruby-2.4.1/gems/aws-sdk-core-3.11.0/lib/aws-sdk-core/resources/collection.rb:56:in `each': [!] undefined method `each' for #<Enumerable::Enumerator:0x007fc3fcf83a50> even though there is a such method in collection.rb \r\n```ruby\r\n  # @return [Enumerator<Band>]\r\n      def each(&block)\r\n        enum = Enumerator.new do |y|\r\n          batch_enum.each do |batch|\r\n            batch.each do |band|\r\n              y.yield(band)\r\n            end\r\n          end\r\n        end\r\n        enum.each(&block) if block\r\n        enum\r\n      end\r\n```","createdAt":"2017-12-06T09:31:02Z","viewerDidAuthor":false,"viewerCanReact":true,"reactionGroups":[{"__typename":"ReactionGroup","viewerHasReacted":false,"users":{"__typename":"ReactingUserConnection","nodes":[],"totalCount":0},"content":"THUMBS_UP"},{"__typename":"ReactionGroup","viewerHasReacted":false,"users":{"__typename":"ReactingUserConnection","nodes":[],"totalCount":0},"content":"THUMBS_DOWN"},{"__typename":"ReactionGroup","viewerHasReacted":false,"users":{"__typename":"ReactingUserConnection","nodes":[],"totalCount":0},"content":"LAUGH"},{"__typename":"ReactionGroup","viewerHasReacted":false,"users":{"__typename":"ReactingUserConnection","nodes":[],"totalCount":0},"content":"HOORAY"},{"__typename":"ReactionGroup","viewerHasReacted":false,"users":{"__typename":"ReactingUserConnection","nodes":[],"totalCount":0},"content":"CONFUSED"},{"__typename":"ReactionGroup","viewerHasReacted":false,"users":{"__typename":"ReactingUserConnection","nodes":[],"totalCount":0},"content":"HEART"}],"id":"MDEyOklzc3VlQ29tbWVudDM0OTU4Mzc0MQ=="},{"__typename":"IssueComment","viewerCanDelete":false,"viewerCanUpdate":false,"author":{"__typename":"User","login":"Wojcik","avatarUrl":"https://avatars0.githubusercontent.com/u/2987936?v=4"},"editor":{"__typename":"User","login":"Wojcik"},"lastEditedAt":"2017-12-06T10:08:06Z","body":"This is strange\r\n* objects = bucket.objects\r\n* puts objects.class => Aws::S3::ObjectSummary::Collection (which is right)\r\n* puts objects.each.class => Enumerable::Enumerator (also correct)\r\n* puts objects.each.methods.sort =>` (! != !~ <=> == === =~ __id__ __send__ agree ask choose class clone dclone define_singleton_method display dup enum_for eql? equal? extend freeze frozen? gem get_binding hash inspect instance_eval instance_exec instance_of? instance_variable_defined? instance_variable_get instance_variable_set instance_variables is_a? itself kind_of? method methods nil? object_id or_ask private_methods protected_methods psych_to_yaml public_method public_methods public_send remove_instance_variable respond_to? say send singleton_class singleton_method singleton_methods taint tainted? tap to_enum to_json to_s to_yaml to_yaml_properties trust untaint untrust untrusted?) ` And this looks wrong","createdAt":"2017-12-06T10:06:37Z","viewerDidAuthor":false,"viewerCanReact":true,"reactionGroups":[{"__typename":"ReactionGroup","viewerHasReacted":false,"users":{"__typename":"ReactingUserConnection","nodes":[],"totalCount":0},"content":"THUMBS_UP"},{"__typename":"ReactionGroup","viewerHasReacted":false,"users":{"__typename":"ReactingUserConnection","nodes":[],"totalCount":0},"content":"THUMBS_DOWN"},{"__typename":"ReactionGroup","viewerHasReacted":false,"users":{"__typename":"ReactingUserConnection","nodes":[],"totalCount":0},"content":"LAUGH"},{"__typename":"ReactionGroup","viewerHasReacted":false,"users":{"__typename":"ReactingUserConnection","nodes":[],"totalCount":0},"content":"HOORAY"},{"__typename":"ReactionGroup","viewerHasReacted":false,"users":{"__typename":"ReactingUserConnection","nodes":[],"totalCount":0},"content":"CONFUSED"},{"__typename":"ReactionGroup","viewerHasReacted":false,"users":{"__typename":"ReactingUserConnection","nodes":[],"totalCount":0},"content":"HEART"}],"id":"MDEyOklzc3VlQ29tbWVudDM0OTU5Mjg1NA=="},{"__typename":"IssueComment","viewerCanDelete":false,"viewerCanUpdate":false,"author":{"__typename":"User","login":"ohayon","avatarUrl":"https://avatars3.githubusercontent.com/u/2587018?v=4"},"editor":null,"lastEditedAt":null,"body":"Hey @Wojcik, this is pretty strange. And just to confirm here, you have fastlane installed via rubygems? What happens if you run similar code to test `each` in an `irb` session in the same directory from which you are executing fastlane?","createdAt":"2017-12-06T15:20:47Z","viewerDidAuthor":false,"viewerCanReact":true,"reactionGroups":[{"__typename":"ReactionGroup","viewerHasReacted":false,"users":{"__typename":"ReactingUserConnection","nodes":[],"totalCount":0},"content":"THUMBS_UP"},{"__typename":"ReactionGroup","viewerHasReacted":false,"users":{"__typename":"ReactingUserConnection","nodes":[],"totalCount":0},"content":"THUMBS_DOWN"},{"__typename":"ReactionGroup","viewerHasReacted":false,"users":{"__typename":"ReactingUserConnection","nodes":[],"totalCount":0},"content":"LAUGH"},{"__typename":"ReactionGroup","viewerHasReacted":false,"users":{"__typename":"ReactingUserConnection","nodes":[],"totalCount":0},"content":"HOORAY"},{"__typename":"ReactionGroup","viewerHasReacted":false,"users":{"__typename":"ReactingUserConnection","nodes":[],"totalCount":0},"content":"CONFUSED"},{"__typename":"ReactionGroup","viewerHasReacted":false,"users":{"__typename":"ReactingUserConnection","nodes":[],"totalCount":0},"content":"HEART"}],"id":"MDEyOklzc3VlQ29tbWVudDM0OTY3MTI2MA=="},{"__typename":"IssueComment","viewerCanDelete":false,"viewerCanUpdate":false,"author":{"__typename":"User","login":"Wojcik","avatarUrl":"https://avatars0.githubusercontent.com/u/2987936?v=4"},"editor":null,"lastEditedAt":null,"body":"Hey @ohayon . Yes, fastlane installed via rubygems, today I tried to reinstall fastlane in rvm environment - same error.\r\n\r\nResults from irb session\r\n<details>\r\n2.4.1 :002 > require 'aws-sdk'\r\n => true\r\n2.4.1 :003 > s3 = Aws::S3::Resource.new(access_key_id:'*****', secret_access_key: '******', region:'eu-central-1')\r\n => #<Aws::S3::Resource:0x007f90753df790 @client=#<Aws::S3::Client>>\r\n2.4.1 :004 > bucket = s3.bucket(*****')\r\n => #<Aws::S3::Bucket:0x007f9075c528f0 @name=\"*****\", @data=nil, @client=#<Aws::S3::Client>>\r\n2.4.1 :005 > objects = bucket.objects\r\n => #<Aws::S3::ObjectSummary::Collection:0x007f9075c49ae8 @batches=#<Enumerator: #<Enumerator::Generator:0x007f9075c49b60>:each>, @limit=nil, @size=nil>\r\n2.4.1 :006 > puts objects.each.methods.sort\r\n!\r\n!=\r\n!~\r\n<=>\r\n==\r\n===\r\n=~\r\n__id__\r\n__send__\r\nall?\r\nany?\r\nchunk\r\nchunk_while\r\nclass\r\nclone\r\ncollect\r\ncollect_concat\r\ncount\r\ncycle\r\ndclone\r\ndefine_singleton_method\r\ndetect\r\ndisplay\r\ndrop\r\ndrop_while\r\ndup\r\neach\r\neach_cons\r\neach_entry\r\neach_slice\r\neach_with_index\r\neach_with_object\r\nentries\r\nenum_for\r\neql?\r\nequal?\r\nextend\r\nfeed\r\nfind\r\nfind_all\r\nfind_index\r\nfirst\r\nflat_map\r\nfreeze\r\nfrozen?\r\ngrep\r\ngrep_v\r\ngroup_by\r\nhash\r\ninclude?\r\ninject\r\ninspect\r\ninstance_eval\r\ninstance_exec\r\ninstance_of?\r\ninstance_variable_defined?\r\ninstance_variable_get\r\ninstance_variable_set\r\ninstance_variables\r\nis_a?\r\nitself\r\nkind_of?\r\nlazy\r\nmap\r\nmax\r\nmax_by\r\nmember?\r\nmethod\r\nmethods\r\nmin\r\nmin_by\r\nminmax\r\nminmax_by\r\nnext\r\nnext_values\r\nnil?\r\nnone?\r\nobject_id\r\none?\r\npartition\r\npeek\r\npeek_values\r\nprivate_methods\r\nprotected_methods\r\npublic_method\r\npublic_methods\r\npublic_send\r\nreduce\r\nreject\r\nremove_instance_variable\r\nrespond_to?\r\nreverse_each\r\nrewind\r\nselect\r\nsend\r\nsingleton_class\r\nsingleton_method\r\nsingleton_methods\r\nsize\r\nslice_after\r\nslice_before\r\nslice_when\r\nsort\r\nsort_by\r\nsum\r\ntaint\r\ntainted?\r\ntake\r\ntake_while\r\ntap\r\nto_a\r\nto_enum\r\nto_h\r\nto_json\r\nto_s\r\nto_set\r\ntrust\r\nuniq\r\nuntaint\r\nuntrust\r\nuntrusted?\r\nwith_index\r\nwith_object\r\nzip\r\n</details>\r\nSo in irb it has all methods ","createdAt":"2017-12-06T15:49:13Z","viewerDidAuthor":false,"viewerCanReact":true,"reactionGroups":[{"__typename":"ReactionGroup","viewerHasReacted":false,"users":{"__typename":"ReactingUserConnection","nodes":[],"totalCount":0},"content":"THUMBS_UP"},{"__typename":"ReactionGroup","viewerHasReacted":false,"users":{"__typename":"ReactingUserConnection","nodes":[],"totalCount":0},"content":"THUMBS_DOWN"},{"__typename":"ReactionGroup","viewerHasReacted":false,"users":{"__typename":"ReactingUserConnection","nodes":[],"totalCount":0},"content":"LAUGH"},{"__typename":"ReactionGroup","viewerHasReacted":false,"users":{"__typename":"ReactingUserConnection","nodes":[],"totalCount":0},"content":"HOORAY"},{"__typename":"ReactionGroup","viewerHasReacted":false,"users":{"__typename":"ReactingUserConnection","nodes":[],"totalCount":0},"content":"CONFUSED"},{"__typename":"ReactionGroup","viewerHasReacted":false,"users":{"__typename":"ReactingUserConnection","nodes":[],"totalCount":0},"content":"HEART"}],"id":"MDEyOklzc3VlQ29tbWVudDM0OTY4MDUwMg=="},{"__typename":"IssueComment","viewerCanDelete":false,"viewerCanUpdate":false,"author":{"__typename":"User","login":"jdee","avatarUrl":"https://avatars1.githubusercontent.com/u/121951?v=4"},"editor":null,"lastEditedAt":null,"body":"@Wojcik Here's a question: It works with `irb`. Are you using a Gemfile, and if so, does it work with `bundle console`? Can you try the same thing there? I wonder if it could be a dependency issue, where you're picking up a dependency from RubyGems that isn't in your bundle. It looks like somehow the Enumerable module isn't mixed into the Aws::S3::ObjectSummary::Collection class.","createdAt":"2017-12-06T19:06:23Z","viewerDidAuthor":false,"viewerCanReact":true,"reactionGroups":[{"__typename":"ReactionGroup","viewerHasReacted":false,"users":{"__typename":"ReactingUserConnection","nodes":[],"totalCount":0},"content":"THUMBS_UP"},{"__typename":"ReactionGroup","viewerHasReacted":false,"users":{"__typename":"ReactingUserConnection","nodes":[],"totalCount":0},"content":"THUMBS_DOWN"},{"__typename":"ReactionGroup","viewerHasReacted":false,"users":{"__typename":"ReactingUserConnection","nodes":[],"totalCount":0},"content":"LAUGH"},{"__typename":"ReactionGroup","viewerHasReacted":false,"users":{"__typename":"ReactingUserConnection","nodes":[],"totalCount":0},"content":"HOORAY"},{"__typename":"ReactionGroup","viewerHasReacted":false,"users":{"__typename":"ReactingUserConnection","nodes":[],"totalCount":0},"content":"CONFUSED"},{"__typename":"ReactionGroup","viewerHasReacted":false,"users":{"__typename":"ReactingUserConnection","nodes":[],"totalCount":0},"content":"HEART"}],"id":"MDEyOklzc3VlQ29tbWVudDM0OTc0MTkyMg=="},{"__typename":"IssueComment","viewerCanDelete":false,"viewerCanUpdate":false,"author":{"__typename":"User","login":"kevinj","avatarUrl":"https://avatars3.githubusercontent.com/u/43563?v=4"},"editor":null,"lastEditedAt":null,"body":"I had this same problem and ended up finding an empty class definition for `Enumerator` here: https://github.com/ckruse/CFPropertyList/blob/master/lib/cfpropertylist/rbCFPropertyList.rb#L91-L95. After removing that, I can enumerate my s3 bucket again.","createdAt":"2017-12-13T16:12:32Z","viewerDidAuthor":false,"viewerCanReact":true,"reactionGroups":[{"__typename":"ReactionGroup","viewerHasReacted":false,"users":{"__typename":"ReactingUserConnection","nodes":[],"totalCount":0},"content":"THUMBS_UP"},{"__typename":"ReactionGroup","viewerHasReacted":false,"users":{"__typename":"ReactingUserConnection","nodes":[],"totalCount":0},"content":"THUMBS_DOWN"},{"__typename":"ReactionGroup","viewerHasReacted":false,"users":{"__typename":"ReactingUserConnection","nodes":[],"totalCount":0},"content":"LAUGH"},{"__typename":"ReactionGroup","viewerHasReacted":false,"users":{"__typename":"ReactingUserConnection","nodes":[],"totalCount":0},"content":"HOORAY"},{"__typename":"ReactionGroup","viewerHasReacted":false,"users":{"__typename":"ReactingUserConnection","nodes":[],"totalCount":0},"content":"CONFUSED"},{"__typename":"ReactionGroup","viewerHasReacted":false,"users":{"__typename":"ReactingUserConnection","nodes":[],"totalCount":0},"content":"HEART"}],"id":"MDEyOklzc3VlQ29tbWVudDM1MTQzOTIzNA=="},{"__typename":"IssueComment","viewerCanDelete":false,"viewerCanUpdate":false,"author":{"__typename":"User","login":"jdee","avatarUrl":"https://avatars1.githubusercontent.com/u/121951?v=4"},"editor":null,"lastEditedAt":null,"body":"@kevinj Interesting. There were some changes around CFPropertyList in 2.69.0 and 2.69.1. Do you have this problem with those versions?\r\n","createdAt":"2017-12-13T16:47:57Z","viewerDidAuthor":false,"viewerCanReact":true,"reactionGroups":[{"__typename":"ReactionGroup","viewerHasReacted":false,"users":{"__typename":"ReactingUserConnection","nodes":[],"totalCount":0},"content":"THUMBS_UP"},{"__typename":"ReactionGroup","viewerHasReacted":false,"users":{"__typename":"ReactingUserConnection","nodes":[],"totalCount":0},"content":"THUMBS_DOWN"},{"__typename":"ReactionGroup","viewerHasReacted":false,"users":{"__typename":"ReactingUserConnection","nodes":[],"totalCount":0},"content":"LAUGH"},{"__typename":"ReactionGroup","viewerHasReacted":false,"users":{"__typename":"ReactingUserConnection","nodes":[],"totalCount":0},"content":"HOORAY"},{"__typename":"ReactionGroup","viewerHasReacted":false,"users":{"__typename":"ReactingUserConnection","nodes":[],"totalCount":0},"content":"CONFUSED"},{"__typename":"ReactionGroup","viewerHasReacted":false,"users":{"__typename":"ReactingUserConnection","nodes":[],"totalCount":0},"content":"HEART"}],"id":"MDEyOklzc3VlQ29tbWVudDM1MTQ1MDUzNQ=="},{"__typename":"IssueComment","viewerCanDelete":false,"viewerCanUpdate":false,"author":{"__typename":"User","login":"jdee","avatarUrl":"https://avatars1.githubusercontent.com/u/121951?v=4"},"editor":null,"lastEditedAt":null,"body":"And if you're using >= 2.69.0, you can also try adding `require \"fastlane_core/core_ext/cfpropertylist\"` in your code. That extension fixes some conflicts between CFPropertyList and plist.","createdAt":"2017-12-13T16:49:10Z","viewerDidAuthor":false,"viewerCanReact":true,"reactionGroups":[{"__typename":"ReactionGroup","viewerHasReacted":false,"users":{"__typename":"ReactingUserConnection","nodes":[],"totalCount":0},"content":"THUMBS_UP"},{"__typename":"ReactionGroup","viewerHasReacted":false,"users":{"__typename":"ReactingUserConnection","nodes":[],"totalCount":0},"content":"THUMBS_DOWN"},{"__typename":"ReactionGroup","viewerHasReacted":false,"users":{"__typename":"ReactingUserConnection","nodes":[],"totalCount":0},"content":"LAUGH"},{"__typename":"ReactionGroup","viewerHasReacted":false,"users":{"__typename":"ReactingUserConnection","nodes":[],"totalCount":0},"content":"HOORAY"},{"__typename":"ReactionGroup","viewerHasReacted":false,"users":{"__typename":"ReactingUserConnection","nodes":[],"totalCount":0},"content":"CONFUSED"},{"__typename":"ReactionGroup","viewerHasReacted":false,"users":{"__typename":"ReactingUserConnection","nodes":[],"totalCount":0},"content":"HEART"}],"id":"MDEyOklzc3VlQ29tbWVudDM1MTQ1MDkyNA=="},{"__typename":"IssueComment","viewerCanDelete":false,"viewerCanUpdate":false,"author":{"__typename":"User","login":"fastlane-bot","avatarUrl":"https://avatars0.githubusercontent.com/u/17056452?v=4"},"editor":null,"lastEditedAt":null,"body":"There hasn't been any activity on this issue recently. Due to the high number of incoming GitHub notifications, we have to clean some of the old issues, as many of them have already been resolved with the latest updates.\n\nPlease make sure to update to the latest `fastlane` version and check if that solves the issue. Let us know if that works for you by adding a comment :+1:","createdAt":"2018-01-27T16:52:18Z","viewerDidAuthor":false,"viewerCanReact":true,"reactionGroups":[{"__typename":"ReactionGroup","viewerHasReacted":false,"users":{"__typename":"ReactingUserConnection","nodes":[],"totalCount":0},"content":"THUMBS_UP"},{"__typename":"ReactionGroup","viewerHasReacted":false,"users":{"__typename":"ReactingUserConnection","nodes":[],"totalCount":0},"content":"THUMBS_DOWN"},{"__typename":"ReactionGroup","viewerHasReacted":false,"users":{"__typename":"ReactingUserConnection","nodes":[],"totalCount":0},"content":"LAUGH"},{"__typename":"ReactionGroup","viewerHasReacted":false,"users":{"__typename":"ReactingUserConnection","nodes":[],"totalCount":0},"content":"HOORAY"},{"__typename":"ReactionGroup","viewerHasReacted":false,"users":{"__typename":"ReactingUserConnection","nodes":[],"totalCount":0},"content":"CONFUSED"},{"__typename":"ReactionGroup","viewerHasReacted":false,"users":{"__typename":"ReactingUserConnection","nodes":[],"totalCount":0},"content":"HEART"}],"id":"MDEyOklzc3VlQ29tbWVudDM2MDk5NzYyMw=="},{"__typename":"LabeledEvent","actor":{"__typename":"User","login":"fastlane-bot"},"label":{"__typename":"Label","color":"ededed","name":"status: waiting-for-reply"},"createdAt":"2018-01-27T16:52:18Z","id":"MDEyOkxhYmVsZWRFdmVudDE0NDQ4NzMyOTA="}]},"milestone":null,"number":11114,"title":"undefined method `each' for #<Enumerable::Enumerator:0x007f9c8b6d87b8>","assignees":{"__typename":"UserConnection","nodes":[]},"labels":{"__typename":"LabelConnection","nodes":[{"__typename":"Label","color":"ededed","name":"status: waiting-for-reply"}]},"closed":false,"locked":false,"viewerCanUpdate":false,"author":{"__typename":"User","login":"Wojcik","avatarUrl":"https://avatars0.githubusercontent.com/u/2987936?v=4"},"editor":{"__typename":"User","login":"revolter"},"lastEditedAt":"2017-12-06T17:51:20Z","body":"### New Issue Checklist\r\n- [x] Updated fastlane to the latest version\r\n- [x] I read the [Contribution Guidelines](https://github.com/fastlane/fastlane/blob/master/CONTRIBUTING.md)\r\n- [x] I read [docs.fastlane.tools](https://docs.fastlane.tools)\r\n- [x] I searched for [existing GitHub issues](https://github.com/fastlane/fastlane/issues)\r\n### Issue Description\r\nTrying to iterate over objects in an amazon bucket\r\n\r\n```\r\nbucket = s3.bucket('bucket_name')\r\n\r\nobjects = bucket.objects\r\n\r\nreturn objects.select do |icon| \r\n    ((params[:app_release_time] <=> icon.last_modified) == -1) && icon.key.start_with?('production') && icon.key.include?('appLogo')\r\nend\r\n```\r\n\r\nCode works when running it in bash directly just in rb file like `ruby test.rb`\r\n\r\n```\r\n$ which ruby\r\n/usr/local/bin/ruby\r\n$ whereis ruby\r\n/usr/bin/ruby\r\n$ /usr/local/bin/ruby -v\r\nruby 2.3.1p112 (2016-04-26 revision 54768) [x86_64-darwin15]\r\n```\r\n\r\nAnd it fails when it placed in a Fastlane action with next error\r\n\r\n##### Complete output when running fastlane, including the stack trace and command used\r\n<!-- You can use: `--capture_output` as the last commandline argument to get that collected for you -->\r\n<details><summary>‚úÖStack trace ‚úÖ</summary>\r\n### Stack\r\n/usr/local/lib/ruby/gems/2.3.0/gems/aws-sdk-core-3.11.0/lib/aws-sdk-core/resources/collection.rb:56:in `each': [!] undefined method `each' for #<Enumerable::Enumerator:0x007f9c8b6d87b8> (NoMethodError)\r\n\tfrom /Users/Aaaa/Projects/project/fastlane/actions/amazon_get_app_icons.rb:21:in `run'\r\n\tfrom /usr/local/lib/ruby/gems/2.3.0/gems/fastlane-2.68.1/fastlane/lib/fastlane/runner.rb:253:in `block (2 levels) in execute_action'\r\n\tfrom /usr/local/lib/ruby/gems/2.3.0/gems/fastlane-2.68.1/fastlane/lib/fastlane/actions/actions_helper.rb:50:in `execute_action'\r\n\tfrom /usr/local/lib/ruby/gems/2.3.0/gems/fastlane-2.68.1/fastlane/lib/fastlane/runner.rb:231:in `block in execute_action'\r\n\tfrom /usr/local/lib/ruby/gems/2.3.0/gems/fastlane-2.68.1/fastlane/lib/fastlane/runner.rb:227:in `chdir'\r\n\tfrom /usr/local/lib/ruby/gems/2.3.0/gems/fastlane-2.68.1/fastlane/lib/fastlane/runner.rb:227:in `execute_action'\r\n\tfrom /usr/local/lib/ruby/gems/2.3.0/gems/fastlane-2.68.1/fastlane/lib/fastlane/runner.rb:148:in `trigger_action_by_name'\r\n\tfrom /usr/local/lib/ruby/gems/2.3.0/gems/fastlane-2.68.1/fastlane/lib/fastlane/fast_file.rb:146:in `method_missing'\r\n\tfrom FastlaneContainerApp:201:in `block in parsing_binding'\r\n\tfrom /usr/local/lib/ruby/gems/2.3.0/gems/fastlane-2.68.1/fastlane/lib/fastlane/lane.rb:33:in `call'\r\n\tfrom /usr/local/lib/ruby/gems/2.3.0/gems/fastlane-2.68.1/fastlane/lib/fastlane/runner.rb:49:in `block in execute'\r\n\tfrom /usr/local/lib/ruby/gems/2.3.0/gems/fastlane-2.68.1/fastlane/lib/fastlane/runner.rb:45:in `chdir'\r\n\tfrom /usr/local/lib/ruby/gems/2.3.0/gems/fastlane-2.68.1/fastlane/lib/fastlane/runner.rb:45:in `execute'\r\n\tfrom /usr/local/lib/ruby/gems/2.3.0/gems/fastlane-2.68.1/fastlane/lib/fastlane/lane_manager.rb:54:in `cruise_lane'\r\n\tfrom /usr/local/lib/ruby/gems/2.3.0/gems/fastlane-2.68.1/fastlane/lib/fastlane/command_line_handler.rb:30:in `handle'\r\n\tfrom /usr/local/lib/ruby/gems/2.3.0/gems/fastlane-2.68.1/fastlane/lib/fastlane/commands_generator.rb:104:in `block (2 levels) in run'\r\n\tfrom /usr/local/lib/ruby/gems/2.3.0/gems/commander-fastlane-4.4.5/lib/commander/command.rb:178:in `call'\r\n\tfrom /usr/local/lib/ruby/gems/2.3.0/gems/commander-fastlane-4.4.5/lib/commander/command.rb:153:in `run'\r\n\tfrom /usr/local/lib/ruby/gems/2.3.0/gems/commander-fastlane-4.4.5/lib/commander/runner.rb:476:in `run_active_command'\r\n\tfrom /usr/local/lib/ruby/gems/2.3.0/gems/fastlane-2.68.1/fastlane_core/lib/fastlane_core/ui/fastlane_runner.rb:66:in `run!'\r\n\tfrom /usr/local/lib/ruby/gems/2.3.0/gems/commander-fastlane-4.4.5/lib/commander/delegates.rb:15:in `run!'\r\n\tfrom /usr/local/lib/ruby/gems/2.3.0/gems/fastlane-2.68.1/fastlane/lib/fastlane/commands_generator.rb:304:in `run'\r\n\tfrom /usr/local/lib/ruby/gems/2.3.0/gems/fastlane-2.68.1/fastlane/lib/fastlane/commands_generator.rb:42:in `start'\r\n\tfrom /usr/local/lib/ruby/gems/2.3.0/gems/fastlane-2.68.1/fastlane/lib/fastlane/cli_tools_distributor.rb:75:in `take_off'\r\n\tfrom /usr/local/lib/ruby/gems/2.3.0/gems/fastlane-2.68.1/bin/fastlane:20:in `<top (required)>'\r\n\tfrom /usr/local/bin/fastlane:23:in `load'\r\n\tfrom /usr/local/bin/fastlane:23:in `<main>'\r\n<\\details>\r\n\r\n### Environment\r\n<details><summary>‚úÖ fastlane environment ‚úÖ</summary>\r\n\r\n### Stack\r\n\r\n| Key                         | Value                                       |\r\n| --------------------------- | ------------------------------------------- |\r\n| OS                          | 10.12.6                                     |\r\n| Ruby                        | 2.3.1                                       |\r\n| Bundler?                    | false                                       |\r\n| Git                         | git version 2.13.6 (Apple Git-96)           |\r\n| Installation Source         | /usr/local/bin/fastlane                     |\r\n| Host                        | Mac OS X 10.12.6 (16G1036)                  |\r\n| Ruby Lib Dir                | /usr/local/Cellar/ruby/2.3.1/lib            |\r\n| OpenSSL Version             | OpenSSL 1.0.2g  1 Mar 2016                  |\r\n| Is contained                | false                                       |\r\n| Is homebrew                 | false                                       |\r\n| Is installed via Fabric.app | false                                       |\r\n| Xcode Path                  | /Applications/Xcode.app/Contents/Developer/ |\r\n| Xcode Version               | 9.1                                         |\r\n\r\n\r\n### System Locale\r\n\r\n| Variable | Value       |   |\r\n| -------- | ----------- | - |\r\n| LANG     | en_US.UTF-8 | ‚úÖ |\r\n| LC_ALL   | en_US.UTF-8 | ‚úÖ |\r\n| LANGUAGE |             |   |\r\n\r\n### fastlane gems\r\n\r\n| Gem      | Version | Update-Status |\r\n| -------- | ------- | ------------- |\r\n| fastlane | 2.68.1  | ‚úÖ Up-To-Date  |\r\n\r\n\r\n### Loaded fastlane plugins:\r\n**No plugins Loaded**\r\n\r\n<details><summary><b>Loaded gems</b></summary>\r\n\r\n| Gem                                     | Version      |\r\n| --------------------------------------- | ------------ |\r\n| did_you_mean                            | 1.0.2        |\r\n| slack-notifier                          | 1.5.1        |\r\n| CFPropertyList                          | 2.3.5        |\r\n| claide                                  | 1.0.2        |\r\n| colored2                                | 3.1.2        |\r\n| nanaimo                                 | 0.2.3        |\r\n| xcodeproj                               | 1.5.3        |\r\n| rouge                                   | 2.0.7        |\r\n| xcpretty                                | 0.2.8        |\r\n| terminal-notifier                       | 1.8.0        |\r\n| plist                                   | 3.3.0        |\r\n| addressable                             | 2.5.2        |\r\n| multipart-post                          | 2.0.0        |\r\n| word_wrap                               | 1.0.0        |\r\n| public_suffix                           | 2.0.5        |\r\n| tty-screen                              | 0.6.3        |\r\n| babosa                                  | 1.0.2        |\r\n| colored                                 | 1.2          |\r\n| highline                                | 1.7.10       |\r\n| commander-fastlane                      | 4.4.5        |\r\n| excon                                   | 0.59.0       |\r\n| faraday                                 | 0.13.1       |\r\n| unf_ext                                 | 0.0.7.4      |\r\n| unf                                     | 0.1.4        |\r\n| domain_name                             | 0.5.20170404 |\r\n| http-cookie                             | 1.0.3        |\r\n| faraday-cookie_jar                      | 0.0.6        |\r\n| fastimage                               | 2.1.0        |\r\n| gh_inspector                            | 1.0.3        |\r\n| mini_magick                             | 4.5.1        |\r\n| multi_json                              | 1.12.2       |\r\n| multi_xml                               | 0.6.0        |\r\n| security                                | 0.1.3        |\r\n| xcpretty-travis-formatter               | 1.0.0        |\r\n| dotenv                                  | 2.2.1        |\r\n| bundler                                 | 1.16.0       |\r\n| faraday_middleware                      | 0.12.2       |\r\n| declarative                             | 0.0.10       |\r\n| declarative-option                      | 0.1.0        |\r\n| representable                           | 3.0.4        |\r\n| mime-types-data                         | 3.2016.0521  |\r\n| mime-types                              | 3.1          |\r\n| little-plugger                          | 1.1.4        |\r\n| logging                                 | 2.2.2        |\r\n| jwt                                     | 2.1.0        |\r\n| memoist                                 | 0.16.0       |\r\n| os                                      | 0.9.6        |\r\n| signet                                  | 0.8.1        |\r\n| googleauth                              | 0.6.2        |\r\n| httpclient                              | 2.8.3        |\r\n| google-api-client                       | 0.13.6       |\r\n| json                                    | 2.1.0        |\r\n| io-console                              | 0.4.6        |\r\n| rubyzip                                 | 1.2.1        |\r\n| unicode-display_width                   | 1.3.0        |\r\n| terminal-table                          | 1.8.0        |\r\n| jmespath                                | 1.3.1        |\r\n| aws-partitions                          | 1.44.0       |\r\n| aws-sigv4                               | 1.0.2        |\r\n| aws-sdk-core                            | 3.11.0       |\r\n| aws-sdk-acm                             | 1.2.0        |\r\n| aws-sdk-apigateway                      | 1.7.0        |\r\n| aws-sdk-alexaforbusiness                | 1.0.0        |\r\n| aws-sdk-appstream                       | 1.2.0        |\r\n| aws-sdk-appsync                         | 1.0.0        |\r\n| aws-sdk-applicationautoscaling          | 1.6.0        |\r\n| aws-sdk-applicationdiscoveryservice     | 1.0.0        |\r\n| aws-sdk-athena                          | 1.0.0        |\r\n| aws-sdk-autoscaling                     | 1.4.0        |\r\n| aws-sdk-batch                           | 1.3.0        |\r\n| aws-sdk-budgets                         | 1.3.0        |\r\n| aws-sdk-cloud9                          | 1.0.0        |\r\n| aws-sdk-clouddirectory                  | 1.0.0        |\r\n| aws-sdk-cloudformation                  | 1.3.0        |\r\n| aws-sdk-cloudfront                      | 1.1.0        |\r\n| aws-sdk-cloudhsm                        | 1.3.0        |\r\n| aws-sdk-cloudhsmv2                      | 1.1.0        |\r\n| aws-sdk-cloudsearch                     | 1.0.0        |\r\n| aws-sdk-cloudsearchdomain               | 1.0.0        |\r\n| aws-sdk-cloudtrail                      | 1.0.0        |\r\n| aws-sdk-cloudwatch                      | 1.2.0        |\r\n| aws-sdk-cloudwatchevents                | 1.1.0        |\r\n| aws-sdk-cloudwatchlogs                  | 1.2.0        |\r\n| aws-sdk-codebuild                       | 1.4.0        |\r\n| aws-sdk-codecommit                      | 1.2.0        |\r\n| aws-sdk-codedeploy                      | 1.1.0        |\r\n| aws-sdk-codepipeline                    | 1.1.0        |\r\n| aws-sdk-codestar                        | 1.1.0        |\r\n| aws-sdk-cognitoidentity                 | 1.0.0        |\r\n| aws-sdk-cognitoidentityprovider         | 1.1.0        |\r\n| aws-sdk-cognitosync                     | 1.0.0        |\r\n| aws-sdk-comprehend                      | 1.0.0        |\r\n| aws-sdk-configservice                   | 1.4.0        |\r\n| aws-sdk-costexplorer                    | 1.0.0        |\r\n| aws-sdk-costandusagereportservice       | 1.0.0        |\r\n| aws-sdk-dax                             | 1.0.0        |\r\n| aws-sdk-datapipeline                    | 1.0.0        |\r\n| aws-sdk-databasemigrationservice        | 1.3.0        |\r\n| aws-sdk-devicefarm                      | 1.2.0        |\r\n| aws-sdk-directconnect                   | 1.1.0        |\r\n| aws-sdk-directoryservice                | 1.0.0        |\r\n| aws-sdk-dynamodb                        | 1.3.0        |\r\n| aws-sdk-dynamodbstreams                 | 1.0.0        |\r\n| aws-sdk-ec2                             | 1.21.0       |\r\n| aws-sdk-ecr                             | 1.2.0        |\r\n| aws-sdk-ecs                             | 1.6.0        |\r\n| aws-sdk-efs                             | 1.0.0        |\r\n| aws-sdk-emr                             | 1.1.0        |\r\n| aws-sdk-elasticache                     | 1.3.0        |\r\n| aws-sdk-elasticbeanstalk                | 1.2.0        |\r\n| aws-sdk-elasticloadbalancing            | 1.1.0        |\r\n| aws-sdk-elasticloadbalancingv2          | 1.6.0        |\r\n| aws-sdk-elastictranscoder               | 1.0.0        |\r\n| aws-sdk-elasticsearchservice            | 1.2.0        |\r\n| aws-sdk-firehose                        | 1.1.0        |\r\n| aws-sdk-gamelift                        | 1.1.0        |\r\n| aws-sdk-glacier                         | 1.5.0        |\r\n| aws-sdk-glue                            | 1.2.0        |\r\n| aws-sdk-greengrass                      | 1.2.0        |\r\n| aws-sdk-guardduty                       | 1.0.0        |\r\n| aws-sdk-health                          | 1.0.0        |\r\n| aws-sdk-iam                             | 1.3.0        |\r\n| aws-sigv2                               | 1.0.1        |\r\n| aws-sdk-importexport                    | 1.0.0        |\r\n| aws-sdk-inspector                       | 1.1.0        |\r\n| aws-sdk-iot                             | 1.1.0        |\r\n| aws-sdk-iotdataplane                    | 1.0.0        |\r\n| aws-sdk-iotjobsdataplane                | 1.0.0        |\r\n| aws-sdk-kms                             | 1.3.0        |\r\n| aws-sdk-kinesis                         | 1.1.0        |\r\n| aws-sdk-kinesisanalytics                | 1.1.0        |\r\n| aws-sdk-kinesisvideo                    | 1.0.0        |\r\n| aws-sdk-kinesisvideoarchivedmedia       | 1.0.0        |\r\n| aws-sdk-kinesisvideomedia               | 1.0.0        |\r\n| aws-sdk-lambda                          | 1.2.0        |\r\n| aws-sdk-lambdapreview                   | 1.0.0        |\r\n| aws-sdk-lex                             | 1.2.0        |\r\n| aws-sdk-lexmodelbuildingservice         | 1.2.0        |\r\n| aws-sdk-lightsail                       | 1.3.0        |\r\n| aws-sdk-mq                              | 1.0.0        |\r\n| aws-sdk-mturk                           | 1.1.0        |\r\n| aws-sdk-machinelearning                 | 1.0.0        |\r\n| aws-sdk-marketplacecommerceanalytics    | 1.0.0        |\r\n| aws-sdk-marketplaceentitlementservice   | 1.0.0        |\r\n| aws-sdk-marketplacemetering             | 1.0.0        |\r\n| aws-sdk-mediaconvert                    | 1.0.0        |\r\n| aws-sdk-medialive                       | 1.0.0        |\r\n| aws-sdk-mediapackage                    | 1.0.0        |\r\n| aws-sdk-mediastore                      | 1.0.0        |\r\n| aws-sdk-mediastoredata                  | 1.0.0        |\r\n| aws-sdk-migrationhub                    | 1.0.0        |\r\n| aws-sdk-mobile                          | 1.0.0        |\r\n| aws-sdk-opsworks                        | 1.1.0        |\r\n| aws-sdk-opsworkscm                      | 1.2.0        |\r\n| aws-sdk-organizations                   | 1.7.0        |\r\n| aws-sdk-pinpoint                        | 1.2.0        |\r\n| aws-sdk-polly                           | 1.4.0        |\r\n| aws-sdk-pricing                         | 1.0.0        |\r\n| aws-sdk-rds                             | 1.8.0        |\r\n| aws-sdk-redshift                        | 1.1.0        |\r\n| aws-sdk-rekognition                     | 1.2.0        |\r\n| aws-sdk-resourcegroups                  | 1.0.0        |\r\n| aws-sdk-resourcegroupstaggingapi        | 1.0.0        |\r\n| aws-sdk-route53                         | 1.5.0        |\r\n| aws-sdk-route53domains                  | 1.1.0        |\r\n| aws-sdk-s3                              | 1.8.0        |\r\n| aws-sdk-ses                             | 1.4.0        |\r\n| aws-sdk-sms                             | 1.0.0        |\r\n| aws-sdk-sns                             | 1.1.0        |\r\n| aws-sdk-sqs                             | 1.3.0        |\r\n| aws-sdk-ssm                             | 1.5.0        |\r\n| aws-sdk-swf                             | 1.0.0        |\r\n| aws-sdk-sagemaker                       | 1.1.0        |\r\n| aws-sdk-sagemakerruntime                | 1.0.0        |\r\n| aws-sdk-serverlessapplicationrepository | 1.0.0        |\r\n| aws-sdk-servicecatalog                  | 1.1.0        |\r\n| aws-sdk-shield                          | 1.1.0        |\r\n| aws-sdk-simpledb                        | 1.0.0        |\r\n| aws-sdk-snowball                        | 1.1.0        |\r\n| aws-sdk-states                          | 1.2.0        |\r\n| aws-sdk-storagegateway                  | 1.2.0        |\r\n| aws-sdk-support                         | 1.0.0        |\r\n| aws-sdk-translate                       | 1.0.0        |\r\n| aws-sdk-waf                             | 1.3.0        |\r\n| aws-sdk-wafregional                     | 1.3.0        |\r\n| aws-sdk-workdocs                        | 1.1.0        |\r\n| aws-sdk-workspaces                      | 1.0.0        |\r\n| aws-sdk-xray                            | 1.1.0        |\r\n| aws-sdk-resources                       | 3.8.0        |\r\n| aws-sdk                                 | 3.0.1        |\r\n| mini_portile2                           | 2.3.0        |\r\n| nokogiri                                | 1.8.1        |\r\n</details>\r\n*generated on:* **2017-12-05**\r\n</details>","createdAt":"2017-12-05T16:23:41Z","viewerDidAuthor":false,"viewerCanReact":true,"reactionGroups":[{"__typename":"ReactionGroup","viewerHasReacted":false,"users":{"__typename":"ReactingUserConnection","nodes":[],"totalCount":0},"content":"THUMBS_UP"},{"__typename":"ReactionGroup","viewerHasReacted":false,"users":{"__typename":"ReactingUserConnection","nodes":[],"totalCount":0},"content":"THUMBS_DOWN"},{"__typename":"ReactionGroup","viewerHasReacted":false,"users":{"__typename":"ReactingUserConnection","nodes":[],"totalCount":0},"content":"LAUGH"},{"__typename":"ReactionGroup","viewerHasReacted":false,"users":{"__typename":"ReactingUserConnection","nodes":[],"totalCount":0},"content":"HOORAY"},{"__typename":"ReactionGroup","viewerHasReacted":false,"users":{"__typename":"ReactingUserConnection","nodes":[],"totalCount":0},"content":"CONFUSED"},{"__typename":"ReactionGroup","viewerHasReacted":false,"users":{"__typename":"ReactingUserConnection","nodes":[],"totalCount":0},"content":"HEART"}],"id":"MDU6SXNzdWUyNzk0Mzg2NDM="}}}}